<!DOCTYPE html>

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <script type="text/javascript" src="../aandd.js"></script>
    <script type="text/javascript" src="../jquery.min.js"></script>
    
    <script>
        function runButtonPressed() {
            //  //practice4-3 リニアサーチ//
            // var numbers = makeRandomArray();
            // show(numbers);
            // var n = Number(document.getElementById("n").value);
            // var index = "";
            // for (var i = 0; i < numbers.length; i++) {
            //     if (numbers[i] == n) {
            //         index = i;
            //     }
            // }
            // if (index == "") {
            //     document.getElementById("output").innerHTML = "みつかりませんでした";
            // } else {
            //     document.getElementById("output").innerHTML = index + "番地";
            // }

            //prac4-4　バイナリリサーチ//
            var numbers = makeRandomArray();
            show(numbers);
            var n = Number(document.getElementById("n").value);
            var index = "";

            var apper = numbers.length - 1;
            var low = 0;
            while (apper != low + 1) {
                var midle = Math.floor((apper + low) / 2);
                console.log(`apper=${apper},low=${low},midle=${midle}`)
                if (numbers[midle] == n) {//同じとき
                    index = midle;
                    break;
                } else if (numbers[midle] < n) {//大きいとき
                    low = midle;
                } else {//小さい時  
                    apper = midle;
                }
            } if (n == numbers[apper]) {
                index = apper;
            } else if (n == numbers[low]) {
                index = low;
            } else {
                index = "見つかりませんでした";
            }
            document.getElementById("output").innerHTML = index;
        }






        function makeRandomArray() {
            var array = [];
            var r = Math.floor(Math.random() * 5) + 1
            array.push(r);
            for (var i = 0; i < 9; i++) {
                r = r + Math.floor(Math.random() * 5) + 1;

                array.push(r);
            }
            return array;
            // createOrderedRandomNumbers(numbers, 10);
        }



        // //配列以外の変数を表示するために，aaandd.jsの中身を新しいshowに置き換えてください．
        // function show(obj) {
        //     if (Array.isArray(obj)) {
        //         var html = '';
        //         html = html + '<table border="1">';
        //         html = html + '<tr>';
        //         for (var i = 0; i < obj.length; i++) {
        //             html = html + '<td>' + obj[i] + '</td>';
        //         }
        //         html = html + '</tr>';
        //         html = html + '</table>';
        //         //html = html + '<br>';
        //         document.getElementById('res').insertAdjacentHTML('beforeend', html);
        //     } else {
        //         var string = JSON.stringify(obj);
        //         string = string + '<br>';
        //         document.getElementById('res').insertAdjacentHTML('beforeend', string);
        //     }
        // }
    </script>

</head>

<body>
    <h1>ex3-1</h1>
    探す数字：<input type=text id="n">
    <button onclick="runButtonPressed()">run!</button>
    <p id="res"></p>
    <hr>
    <p id="output"></p>
</body>

</html>